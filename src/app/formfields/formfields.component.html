<div class="container">
  <form #form="ngForm" (ngSubmit)="onSubmit(form)">
    <div class="col-md-12">
      <div class="text-fields">
        <mat-form-field *ngFor="let textField of fields.text"
                        [class.col-md-6]="fields.text.length > 1"
                        [class.col-md-12]="fields.text.length === 1">
          <mat-label>{{ textField.title }}</mat-label>
          <input matInput [name]="textField.name" [type]=" textField.name === 'email' ? 'email' : 'text'  " ngModel
                 [required]="textField.required"
                 [email]="textField.name === 'email' ">
        </mat-form-field>
      </div>
      <div class="textarea-fields">
        <mat-form-field *ngFor="let textAreaField of fields.textarea"
                        [class.col-md-6]="fields.text.length > 1"
                        [class.col-md-12]="fields.text.length === 1">
          <mat-label>{{ textAreaField.title }}</mat-label>
          <textarea matInput [required]="textAreaField.required" [name]="textAreaField.name" ngModel></textarea>
        </mat-form-field>
      </div>
      <div class="radio-buttons">
        <mat-radio-group *ngFor="let radioField of fields.radio" ngModel
                         [class.col-md-6]="fields.radio.length > 1"
                         [class.col-md-12]="fields.radio.length === 1"
                         [name]="radioField.name"
                         [required]="radioField.required">
          <mat-label [class.required-field]="radioField.required">{{radioField.title}}</mat-label>
          <mat-radio-button *ngFor="let option of radioField.options"
                            [value]="option.key">{{option.value}}</mat-radio-button>
        </mat-radio-group>
      </div>
<!--      TODO: FIX -->
      <div class="checkbox-fields">
        <mat-radio-group *ngFor="let checkBoxField of fields.checkbox" ngModel
                         [class.col-md-6]="fields.checkbox.length > 1"
                         [class.col-md-12]="fields.checkbox.length === 1"
                         [name]="checkBoxField.name"
                         [required]="checkBoxField.required">
          <mat-label [class.required-field]="checkBoxField.required">{{checkBoxField.title}}</mat-label>
          <mat-checkbox *ngFor="let option of checkBoxField.options"
                        [value]="option.key">{{option.value}}</mat-checkbox>
        </mat-radio-group>
      </div>
      <div class="select-boxes">
        <mat-form-field *ngFor="let selectField of fields.select"
                        [class.col-md-6]="fields.select.length > 1"
                        [class.col-md-12]="fields.select.length === 1">
          <mat-label>{{ selectField.title }}</mat-label>
          <mat-select [required]="selectField.required" [name]="selectField.name" ngModel>
            <mat-option *ngFor="let option of selectField.options" [value]="option.key">
              {{option.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field *ngIf="fields.stateInput"
                        [class.col-md-6]="fields.text.length > 1"
                        [class.col-md-12]="fields.text.length === 1">
          <mat-label>{{ fields.stateInput.title }}</mat-label>
          <mat-select [required]="fields.stateInput.required" [name]="fields.stateInput.name" ngModel>
            <mat-option *ngFor="let option of formFields.states" [value]="option.code">
              {{option.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="multiselect-boxes">
        <mat-form-field *ngFor="let multiSelectField of fields['multi-select']"
                        [class.col-md-6]="fields['multi-select'].length > 1"
                        [class.col-md-12]="fields['multi-select'].length === 1">
          <mat-label>{{ multiSelectField.title }}</mat-label>
          <mat-select [required]="multiSelectField.required" [name]="multiSelectField.name" multiple ngModel>
            <mat-option *ngFor="let option of multiSelectField.options" [value]="option.key">
              {{option.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="text-right submit-button">
        <button mat-raised-button type="submit" color="primary">Submit</button>
      </div>
    </div>
  </form>
</div>
